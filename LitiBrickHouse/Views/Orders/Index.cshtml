@model IEnumerable<LitiBrickHouse.Models.Order>
@using LitiBrickHouse.Enums  @* <-- THÊM DÒNG NÀY (Sửa Lỗi 2) *@

@{
    ViewData["Title"] = "Quản lý Đơn hàng";
    int stt = 1; // Biến đếm Số Thứ Tự
}

<h1>Quản lý Đơn hàng</h1>

<ul class="nav nav-pills mb-3">
    <li class="nav-item">
        <a class="nav-link @(ViewBag.CurrentStatus == OrderStatus.Moi ? "active" : "")"
           asp-action="Index" asp-route-status="@OrderStatus.Moi">
            Đơn Mới
        </a>
    </li>
    <li class="nav-item">
        <a class="nav-link @(ViewBag.CurrentStatus == OrderStatus.DangLam ? "active" : "")"
           asp-action="Index" asp-route-status="@OrderStatus.DangLam">
            Đang Làm
        </a>
    </li>
    <li class="nav-item">
        <a class="nav-link @(ViewBag.CurrentStatus == OrderStatus.HoanThanh ? "active" : "")"
           asp-action="Index" asp-route-status="@OrderStatus.HoanThanh">
            Đã Hoàn Thành
        </a>
    </li>
    <li class="nav-item">
        <a class="nav-link @(ViewBag.CurrentStatus == OrderStatus.DaHuy ? "active" : "")"
           asp-action="Index" asp-route-status="@OrderStatus.DaHuy">
            Đã Hủy
        </a>
    </li>
</ul>
<table class="table table-striped table-bordered">
    <thead class="table-dark">
        <tr>
            <th>STT</th>
            <th>Tên Khách hàng</th>
            <th>Tên Mạng Xã hội</th>
            <th>Số Điện thoại</th>
            <th>Địa chỉ</th>
            <th>Ghi chú</th>
            <th>Ngày đặt</th>
            <th>Tổng tiền</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @(stt++)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.CustomerName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.SocialMediaName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.PhoneNumber)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Address)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Note)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.OrderDate)
                </td>
                <td>
                    @item.TotalPrice.ToString("N0") VNĐ
                </td>
                <td>
                    <a asp-action="Details" asp-route-id="@item.Id" class="btn btn-sm btn-info">
                        Xem Chi tiết
                    </a>
                </td>
            </tr>
        }
    </tbody>
</table>